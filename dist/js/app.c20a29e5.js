(function(e){function t(t){for(var c,a,i=t[0],s=t[1],u=t[2],d=0,p=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(c in s)Object.prototype.hasOwnProperty.call(s,c)&&(e[c]=s[c]);l&&l(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],c=!0,i=1;i<n.length;i++){var s=n[i];0!==r[s]&&(c=!1)}c&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var c={},r={app:0},o=[];function a(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=c,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)a.d(n,c,function(t){return e[t]}.bind(null,c));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"06f3":function(e,t,n){},"0c6e":function(e,t,n){"use strict";n("cf23")},"11ca":function(e,t,n){e.exports=n.p+"img/icon-delete.bc196c73.svg"},"15cd":function(e,t,n){"use strict";n("91ef")},"288a":function(e,t,n){},"389f":function(e,t,n){},4072:function(e,t,n){"use strict";n("86d7")},4446:function(e,t,n){"use strict";n("5217")},5217:function(e,t,n){},5674:function(e,t,n){"use strict";n("389f")},"56d7":function(e,t,n){"use strict";n.r(t);var c={};n.r(c),n.d(c,"getComments",(function(){return St})),n.d(c,"getCurrentUser",(function(){return Dt}));var r={};n.r(r),n.d(r,"getCommentsAction",(function(){return Tt})),n.d(r,"deleteCommentAction",(function(){return Et})),n.d(r,"deleteReplyAction",(function(){return Lt})),n.d(r,"updateScoreAction",(function(){return Pt})),n.d(r,"editCommentAction",(function(){return $t})),n.d(r,"editReplyAction",(function(){return Ft})),n.d(r,"pushReplyAction",(function(){return Bt})),n.d(r,"getCurrentUserAction",(function(){return Vt}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),a=Object(o["g"])("div",{id:"nav"},null,-1);function i(e,t){var n=Object(o["A"])("router-view");return Object(o["s"])(),Object(o["f"])(o["a"],null,[a,Object(o["i"])(n)],64)}n("0c6e");var s=n("6b0d"),u=n.n(s);const l={},d=u()(l,[["render",i]]);var p=d,b=n("6c02"),f={class:"comment__app"},m={class:"comment__app-content"},O={class:"reply"};function j(e,t,n,c,r,a){var i=Object(o["A"])("c-message-board"),s=Object(o["A"])("c-reply");return Object(o["s"])(),Object(o["f"])("div",f,[Object(o["g"])("div",m,[Object(o["i"])(i),Object(o["g"])("div",O,[Object(o["i"])(s)])])])}var y={class:"reply"},g={class:"reply__content"},v={class:"reply__content-image"},h=["src"];function _(e,t,n,c,r,a){var i=Object(o["A"])("c-comment"),s=Object(o["A"])("c-button");return Object(o["s"])(),Object(o["f"])("div",y,[Object(o["g"])("div",g,[Object(o["g"])("div",v,[Object(o["g"])("img",{src:e.currentUser.image,alt:""},null,8,h)]),Object(o["i"])(i,{class:"comment-component",modelValue:e.content,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.content=t})},null,8,["modelValue"]),Object(o["i"])(s,{onPress:a.sendComment,class:"btn",type:"button",loading:e.btnLoading},{default:Object(o["F"])((function(){return[Object(o["h"])(Object(o["C"])(n.btnType),1)]})),_:1},8,["onPress","loading"])])])}var C=n("1da1"),k=n("5530"),R=(n("96cf"),n("ac1f"),n("5319"),n("5502")),w=n("260b"),x=(n("e71f"),{apiKey:"AIzaSyCYg9c7PNvacv3gEUKjdpNaZfALXLE75Pk",authDomain:"comment-app-9f9ce.firebaseapp.com",projectId:"comment-app-9f9ce",storageBucket:"comment-app-9f9ce.appspot.com",messagingSenderId:"777336045547",appId:"1:777336045547:web:bcd88c8402d107be6fe3ae"});w["a"].initializeApp(x);var M=w["a"].firestore(),I=n("ef1b"),A=n("7b82"),U=n.n(A),S=n("11ca"),D=n.n(S),T=n("eaaf"),E=n.n(T),L=["disabled","type"],P={class:"icons"},$={key:0,src:U.a,alt:"reply"},F={key:1,src:D.a,alt:"deleteIcon"},B={key:2,src:E.a,alt:"editIcon"},V={key:0,class:"btn__loader"};function N(e,t,n,c,r,a){return Object(o["s"])(),Object(o["f"])("button",{class:Object(o["o"])(["btn",n.variant?"btn--".concat(n.variant):""]),onClick:t[0]||(t[0]=function(){return a.handleClick&&a.handleClick.apply(a,arguments)}),disabled:n.disabled||n.loading,type:n.submit?"submit":"button"},[Object(o["g"])("span",P,[n.reply?(Object(o["s"])(),Object(o["f"])("img",$)):Object(o["e"])("",!0),n.deleteIcon?(Object(o["s"])(),Object(o["f"])("img",F)):Object(o["e"])("",!0),n.edit?(Object(o["s"])(),Object(o["f"])("img",B)):Object(o["e"])("",!0)]),Object(o["z"])(e.$slots,"default",{},void 0,!0),n.loading?(Object(o["s"])(),Object(o["f"])("span",V)):Object(o["e"])("",!0)],10,L)}var z={name:"Button",props:{submit:{type:String},variant:{type:String,default:"primary",required:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},reply:{type:Boolean},deleteIcon:{type:Boolean},edit:{type:Boolean},type:{type:String,default:"button"}},methods:{handleClick:function(){this.$emit("press")}}};n("a055");const q=u()(z,[["render",N],["__scopeId","data-v-37cf3a3f"]]);var J=q,K={class:"comment"},Y=["value"];function H(e,t,n,c,r,a){return Object(o["s"])(),Object(o["f"])("div",K,[Object(o["g"])("textarea",{cols:"30",rows:"5",placeholder:"Add a comment....",class:"comment-text-area",value:n.modelValue,onInput:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t.target.value)})},null,40,Y)])}var X={props:{value:{type:String},modelValue:{type:String}}};n("fbde");const Z=u()(X,[["render",H],["__scopeId","data-v-dd9585e0"]]);var G=Z,Q={components:{CButton:J,CComment:G},props:{btnType:{type:String,default:"SEND"}},computed:Object(k["a"])({},Object(R["c"])({currentUser:"getCurrentUser"})),data:function(){return{content:"",btnLoading:!1}},methods:{formatDate:function(e){if(!e)return"-";var t=Object(I["a"])(e,{addSuffix:!0}).replace("about ","");return"".concat(t)},sendComment:function(){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function t(){var n,c,r,o,a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.currentUser,c=n.image,r=n.username,o=e.formatDate(new Date),a=Date.now(),e.btnLoading=!0,t.next=7,M.collection("comments").doc();case 7:if(i=t.sent,s=i.id,""===e.content){t.next=14;break}return t.next=12,i.set({id:s,content:e.content,date:a,user:{image:c,username:r},createdAt:o,score:0,replies:[]}).then((function(){e.content="",e.btnLoading=!1})).catch((function(e){console.error("Error writing document: ",e)}));case 12:t.next=15;break;case 14:window.alert("Please enter a comment");case 15:e.btnLoading=!1,e.content="",e.$store.dispatch("getCommentsAction");case 18:case"end":return t.stop()}}),t)})))()}}};n("7ee0");const W=u()(Q,[["render",_],["__scopeId","data-v-719eccfa"]]);var ee=W,te={key:0},ne={key:1},ce={class:"chat"},re={class:"chat__details"},oe={class:"content-text"},ae={class:"chat__buttons"},ie={class:"desktop__btn__wrapper-mobile"},se=Object(o["h"])("Reply"),ue={key:1,class:"reply__delete--btns-mobile"},le=Object(o["h"])("Delete"),de=Object(o["h"])("Edit"),pe={class:"desktop__btn__wrapper"},be=Object(o["h"])("Reply"),fe={key:1,class:"reply__delete--btns"},me=Object(o["h"])("Delete"),Oe=Object(o["h"])("Edit"),je={key:0},ye={key:1},ge={key:2,class:"replies"};function ve(e,t,n,c,r,a){var i=Object(o["A"])("profile"),s=Object(o["A"])("counter"),u=Object(o["A"])("c-button"),l=Object(o["A"])("c-reply-message"),d=Object(o["A"])("c-replies"),p=Object(o["A"])("modal");return a.loading?(Object(o["s"])(),Object(o["f"])("div",te,[(Object(o["s"])(),Object(o["f"])(o["a"],null,Object(o["y"])(5,(function(e){return Object(o["g"])("div",{class:"loading",key:e})})),64))])):(Object(o["s"])(),Object(o["f"])("div",ne,[(Object(o["s"])(!0),Object(o["f"])(o["a"],null,Object(o["y"])(a.comments,(function(t){return Object(o["s"])(),Object(o["f"])("div",{key:t.id},[Object(o["g"])("div",ce,[Object(o["g"])("div",re,[Object(o["i"])(i,{user:Object(k["a"])(Object(k["a"])({},t.user),{},{createdAt:t.createdAt,date:t.date})},null,8,["user"]),Object(o["g"])("p",oe,Object(o["C"])(t.content),1)]),Object(o["g"])("div",ae,[Object(o["i"])(s,{count:t.score,id:t.id},null,8,["count","id"]),Object(o["g"])("div",ie,[t.user.username!==a.currentUser.username?(Object(o["s"])(),Object(o["d"])(u,{key:0,variant:"secondary",class:"button__mobile",reply:"",onClick:function(n){return e.replyTo=t.id}},{default:Object(o["F"])((function(){return[se]})),_:2},1032,["onClick"])):Object(o["e"])("",!0),t.user.username===a.currentUser.username?(Object(o["s"])(),Object(o["f"])("div",ue,[Object(o["i"])(u,{onClick:function(e){return a.openDelModal(t.id)},variant:"secondary",class:"button__mobile",deleteIcon:""},{default:Object(o["F"])((function(){return[le]})),_:2},1032,["onClick"]),Object(o["i"])(u,{variant:"secondary",class:"button__mobile","edit-btn":"",editIcon:"",onClick:function(n){return e.editMsg=t.id}},{default:Object(o["F"])((function(){return[de]})),_:2},1032,["onClick"])])):Object(o["e"])("",!0)])]),Object(o["g"])("div",pe,[t.user.username!==a.currentUser.username?(Object(o["s"])(),Object(o["d"])(u,{key:0,variant:"secondary",class:"button__desktop",reply:"",onClick:function(n){return e.replyTo=t.id}},{default:Object(o["F"])((function(){return[be]})),_:2},1032,["onClick"])):Object(o["e"])("",!0),t.user.username===a.currentUser.username?(Object(o["s"])(),Object(o["f"])("div",fe,[Object(o["i"])(u,{variant:"secondary",class:"button__desktop delete-btn",deleteIcon:"",onClick:function(e){return a.openDelModal(t.id)}},{default:Object(o["F"])((function(){return[me]})),_:2},1032,["onClick"]),Object(o["i"])(u,{variant:"secondary",class:"button__desktop","edit-btn":"",editIcon:"",onClick:function(n){return e.editMsg=t.id}},{default:Object(o["F"])((function(){return[Oe]})),_:2},1032,["onClick"])])):Object(o["e"])("",!0)])]),e.editMsg===t.id?(Object(o["s"])(),Object(o["f"])("div",je,[Object(o["i"])(l,{onSendReplyMessage:function(e){return a.editMessage(e,t.id)},btnType:e.editMsg===t.id?e.update:e.Reply},null,8,["onSendReplyMessage","btnType"])])):Object(o["e"])("",!0),e.replyTo===t.id?(Object(o["s"])(),Object(o["f"])("div",ye,[Object(o["i"])(l,{onSendReplyMessage:function(e){return a.sendReplyMessage(e,t.id)},btnType:"Reply",btnLoading:a.loading},null,8,["onSendReplyMessage","btnLoading"])])):Object(o["e"])("",!0),0!==t.replies.length?(Object(o["s"])(),Object(o["f"])("div",ge,[Object(o["i"])(d,{replies:t.replies,currentUser:a.currentUser,commentId:t.id},null,8,["replies","currentUser","commentId"])])):Object(o["e"])("",!0)])})),128)),Object(o["i"])(p,{show:e.delMsg,onCancel:a.closeDeleteModal,onRemove:t[0]||(t[0]=function(e){return a.deleteMessage()})},null,8,["show","onCancel"])]))}n("7db0"),n("d3b7"),n("25f0");var he={class:"profile"},_e={class:"profile-image"},Ce=["src"],ke={class:"username"},Re={class:"date"};function we(e,t,n,c,r,a){return Object(o["s"])(),Object(o["f"])("div",he,[Object(o["g"])("div",_e,[Object(o["g"])("img",{src:n.user.image,alt:""},null,8,Ce)]),Object(o["g"])("p",ke,Object(o["C"])(n.user.username),1),Object(o["g"])("p",Re,Object(o["C"])(a.formatDate),1)])}var xe={props:{user:{type:Object}},data:function(){return{}},computed:{formatDate:function(){var e=this.user.date;if(!e)return"";var t=Object(I["a"])(e,{addSuffix:!0}).replace("about ","");return"".concat(t)}}};n("b9ec");const Me=u()(xe,[["render",we],["__scopeId","data-v-6362b144"]]);var Ie=Me,Ae=n("77ea"),Ue=n.n(Ae),Se=n("b398"),De=n.n(Se),Te={class:"counter__val"};function Ee(e,t,n,c,r,a){return Object(o["s"])(),Object(o["f"])("div",{class:Object(o["o"])(["counter",n.type?"counter--".concat(n.type):""])},[Object(o["g"])("button",null,[Object(o["g"])("img",{src:Ue.a,alt:"",onClick:t[0]||(t[0]=function(){return c.addOne&&c.addOne.apply(c,arguments)})})]),Object(o["g"])("p",Te,Object(o["C"])(c.state.count),1),Object(o["g"])("button",null,[Object(o["g"])("img",{src:De.a,alt:"",onClick:t[1]||(t[1]=function(){return c.subtractOne&&c.subtractOne.apply(c,arguments)})})])],2)}n("a9e3");var Le={data:function(){return{}},props:{count:{type:Number,default:0},id:{type:String,default:""},type:{type:String,default:"commentCount"},replyId:{type:String,default:""}},setup:function(e){var t=Object(R["d"])(),n=Object(o["w"])({count:Object(o["x"])(e.count)}),c=function(){var c=n.count+=1;t.dispatch("updateScoreAction",{id:e.id,score:c,type:e.type,replyId:e.replyId})},r=function(){var c=n.count-=1;t.dispatch("updateScoreAction",{id:e.id,score:c,type:e.type,replyId:e.replyId})};return{state:n,addOne:c,subtractOne:r}}};n("ea16");const Pe=u()(Le,[["render",Ee],["__scopeId","data-v-4c284832"]]);var $e=Pe,Fe={class:"chat"},Be={class:"chat__details"},Ve={class:"content-text"},Ne={class:"chat__buttons"},ze={class:"desktop__btn__wrapper-mobile"},qe=Object(o["h"])("Reply"),Je={key:1,class:"reply__delete--btns-mobile"},Ke=Object(o["h"])("Delete"),Ye=Object(o["h"])("Edit"),He={class:"desktop__btn__wrapper"},Xe=Object(o["h"])("Reply"),Ze={key:1,class:"reply__delete--btns"},Ge=Object(o["h"])("Delete"),Qe=Object(o["h"])("Edit"),We={key:0,style:{"margin-top":"10px"}},et={key:1,style:{"margin-top":"10px"}};function tt(e,t,n,c,r,a){var i=Object(o["A"])("profile"),s=Object(o["A"])("counter"),u=Object(o["A"])("c-button"),l=Object(o["A"])("c-reply-message"),d=Object(o["A"])("c-modal");return Object(o["s"])(!0),Object(o["f"])(o["a"],null,Object(o["y"])(n.replies,(function(c){return Object(o["s"])(),Object(o["f"])("div",{key:c.id},[Object(o["g"])("div",Fe,[Object(o["g"])("div",Be,[Object(o["i"])(i,{user:Object(k["a"])(Object(k["a"])({},c.user),{},{date:c.date})},null,8,["user"]),Object(o["g"])("p",Ve,[Object(o["g"])("span",null," @"+Object(o["C"])(c.replyingTo),1),Object(o["h"])(" "+Object(o["C"])(c.content),1)])]),Object(o["g"])("div",Ne,[Object(o["i"])(s,{count:c.score,type:"replyCount",replyId:c.id,id:n.commentId},null,8,["count","replyId","id"]),Object(o["g"])("div",ze,[c.user.username!==n.currentUser.username?(Object(o["s"])(),Object(o["d"])(u,{key:0,variant:"secondary",class:"button__mobile",reply:"",onClick:function(e){return a.handleReplyClick(c.id,c.user.username)}},{default:Object(o["F"])((function(){return[qe]})),_:2},1032,["onClick"])):Object(o["e"])("",!0),c.user.username===n.currentUser.username?(Object(o["s"])(),Object(o["f"])("div",Je,[Object(o["i"])(u,{onClick:function(e){return a.handleDeleteClick(c.id)},variant:"secondary",class:"button__mobile",deleteIcon:""},{default:Object(o["F"])((function(){return[Ke]})),_:2},1032,["onClick"]),Object(o["i"])(u,{variant:"secondary",class:"button__mobile","edit-btn":"",editIcon:"",onClick:function(t){return e.editReply=c.id}},{default:Object(o["F"])((function(){return[Ye]})),_:2},1032,["onClick"])])):Object(o["e"])("",!0)])]),Object(o["g"])("div",He,[c.user.username!==n.currentUser.username?(Object(o["s"])(),Object(o["d"])(u,{key:0,variant:"secondary",class:"button__desktop",reply:"",onClick:function(e){return a.handleReplyClick(c.id,c.user.username)}},{default:Object(o["F"])((function(){return[Xe]})),_:2},1032,["onClick"])):Object(o["e"])("",!0),c.user.username===n.currentUser.username?(Object(o["s"])(),Object(o["f"])("div",Ze,[Object(o["i"])(u,{variant:"secondary",class:"button__desktop delete-btn",deleteIcon:"",onClick:function(e){return a.handleDeleteClick(c.id)}},{default:Object(o["F"])((function(){return[Ge]})),_:2},1032,["onClick"]),Object(o["i"])(u,{variant:"secondary",class:"button__desktop","edit-btn":"",editIcon:"",onClick:function(t){return e.editReply=c.id}},{default:Object(o["F"])((function(){return[Qe]})),_:2},1032,["onClick"])])):Object(o["e"])("",!0)])]),e.editReply===c.id?(Object(o["s"])(),Object(o["f"])("div",We,[Object(o["i"])(l,{onSendReplyMessage:function(e){return a.editReplyMessage(e,c.id)},btnType:e.update},null,8,["onSendReplyMessage","btnType"])])):Object(o["e"])("",!0),e.replyTo===c.id?(Object(o["s"])(),Object(o["f"])("div",et,[Object(o["i"])(l,{onSendReplyMessage:t[0]||(t[0]=function(e){return a.sendReplyMessage(e)}),btnType:"Reply",btnLoading:a.btnLoading},null,8,["btnLoading"])])):Object(o["e"])("",!0),Object(o["i"])(d,{show:e.showDelModal,onCancel:t[1]||(t[1]=function(e){return a.closeDeleteModal()}),onRemove:a.deleteReply},null,8,["show","onRemove"])])})),128)}var nt={class:"reply"},ct={class:"reply__content"},rt={class:"reply__content-image"},ot=["src"];function at(e,t,n,c,r,a){var i=Object(o["A"])("c-comment"),s=Object(o["A"])("c-button");return Object(o["s"])(),Object(o["f"])("div",nt,[Object(o["g"])("div",ct,[Object(o["g"])("div",rt,[Object(o["g"])("img",{src:e.currentUser.image,alt:""},null,8,ot)]),Object(o["i"])(i,{class:"comment-component",modelValue:e.content,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.content=t})},null,8,["modelValue"]),Object(o["i"])(s,{onPress:a.sendReply,class:"btn",type:"button",loading:n.btnLoading},{default:Object(o["F"])((function(){return[Object(o["h"])(Object(o["C"])(n.btnType),1)]})),_:1},8,["onPress","loading"])])])}var it={components:{CButton:J,CComment:G},props:{btnType:{type:String,default:"SEND"},btnLoading:{type:Boolean,default:!1}},computed:Object(k["a"])({},Object(R["c"])({currentUser:"getCurrentUser"})),data:function(){return{content:""}},methods:{sendReply:function(){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$emit("sendReplyMessage",e.content);case 1:case"end":return t.stop()}}),t)})))()}}};n("5674");const st=u()(it,[["render",at],["__scopeId","data-v-4eb59aa6"]]);var ut=st,lt=function(e){return Object(o["v"])("data-v-423db3a6"),e=e(),Object(o["t"])(),e},dt={key:0,class:"modal"},pt={class:"modal__content"},bt=lt((function(){return Object(o["g"])("p",{class:"title"},"Delete Comment",-1)})),ft=lt((function(){return Object(o["g"])("p",{class:"description"}," Are you sure you want to delete this comment? This will remove the comment and can't be undone ",-1)})),mt={class:"btns--wrapper"};function Ot(e,t,n,c,r,a){return n.show?(Object(o["s"])(),Object(o["f"])("div",dt,[Object(o["g"])("div",pt,[bt,ft,Object(o["g"])("div",mt,[Object(o["g"])("button",{class:"cancel--btn",onClick:t[0]||(t[0]=function(){return a.handleCancel&&a.handleCancel.apply(a,arguments)})},"NO, CANCEL"),Object(o["g"])("button",{class:"delete--btn",onClick:t[1]||(t[1]=function(){return a.handleRemove&&a.handleRemove.apply(a,arguments)})},"YES, DELETE")])])])):Object(o["e"])("",!0)}var jt={name:"modal",props:{show:{type:Boolean,required:!0}},data:function(){return{showModal:!1}},computed:{handleCancel:function(){return this.$emit("cancel")},handleRemove:function(){return this.$emit("remove")}},methods:{}};n("4072");const yt=u()(jt,[["render",Ot],["__scopeId","data-v-423db3a6"]]);var gt=yt,vt={components:{Profile:Ie,Counter:$e,CButton:J,CReplyMessage:ut,CModal:gt},props:{replies:{type:Array},currentUser:{type:Object},commentId:{type:String}},data:function(){return{replyTo:!1,showDelModal:!1,editReply:!1,replyingTo:"",replyId:"",reply:"Reply",update:"UPDATE"}},computed:{btnLoading:function(){return this.$store.state.btnLoading}},methods:{handleReplyClick:function(e,t){this.replyTo=e,this.replyingTo=t},handleDeleteClick:function(e){this.showDelModal=!0,this.replyId=e},closeDeleteModal:function(){this.showDelModal=!this.showDelModal},editReplyMessage:function(e,t){this.$store.dispatch("editReplyAction",{commentId:this.commentId,replyId:t,content:e}),e="",this.editReply=!1},sendReplyMessage:function(e){var t=this.currentUser,n=t.image,c=t.username;""!==e?this.$store.dispatch("pushReplyAction",{id:this.commentId,reply:{id:Math.random().toString(36).substr(2,9),content:e,date:Date.now(),replyingTo:this.replyingTo,score:0,user:{image:n,username:c}}}):window.alert("Please enter a reply"),e="",this.replyTo=!1},deleteReply:function(){var e=this.commentId,t=this.replyId;this.$store.dispatch("deleteReplyAction",{commentId:e,replyId:t}),this.closeDeleteModal()}}};n("4446");const ht=u()(vt,[["render",tt],["__scopeId","data-v-c85a97da"]]);var _t=ht,Ct={components:{Profile:Ie,Counter:$e,CButton:J,CReplies:_t,CReplyMessage:ut,Modal:gt},data:function(){return{replyTo:!1,editMsg:!1,delMsg:!1,currentId:"",toUpdate:!1,update:"UPDATE",Reply:"Reply",btnLoading:!1}},mounted:function(){this.$store.dispatch("getCommentsAction"),this.$store.dispatch("getCurrentUserAction")},computed:{comments:function(){return this.$store.getters.getComments},currentUser:function(){return this.$store.getters.getCurrentUser},loading:function(){return this.$store.state.loading}},methods:Object(k["a"])(Object(k["a"])({},Object(R["b"])({deleteCommentAction:"deleteCommentAction",editCommentAction:"editCommentAction"})),{},{closeDeleteModal:function(){this.delMsg=!this.delMsg},deleteMessage:function(){var e=this.currentId;this.deleteCommentAction(e),this.closeDeleteModal()},openDelModal:function(e){this.currentId=e,this.delMsg=!0},sendReplyMessage:function(e,t){var n=this.comments.find((function(e){return e.id===t})),c=n.user.username,r=this.currentUser,o=r.image,a=r.username;""!==e?this.$store.dispatch("pushReplyAction",{id:t,reply:{id:Math.random().toString(36).substr(2,9),content:e,date:Date.now(),replyingTo:c,score:0,user:{image:o,username:a}}}):window.alert("Please enter a message"),e="",this.replyTo=!1},editMessage:function(e,t){var n=this;return Object(C["a"])(regeneratorRuntime.mark((function c(){return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return c.next=2,n.editCommentAction({id:t,content:e});case 2:n.editMsg=!1;case 3:case"end":return c.stop()}}),c)})))()}})};n("6a73");const kt=u()(Ct,[["render",ve],["__scopeId","data-v-1610d376"]]);var Rt=kt;n("15cd");var wt={components:{CReply:ee,CMessageBoard:Rt}};n("83cb");const xt=u()(wt,[["render",j],["__scopeId","data-v-54699b22"]]);var Mt=xt,It=[{path:"/",name:"Home",component:Mt}],At=Object(b["a"])({history:Object(b["b"])("/"),routes:It}),Ut=At,St=function(e){return e.comments},Dt=function(e){return e.currentUser},Tt=(n("159b"),n("4de4"),n("d81d"),function(){var e=Object(C["a"])(regeneratorRuntime.mark((function e(t){var n,c,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state,n.loading=!0,e.next=4,M.collection("comments").orderBy("date","asc");case 4:return c=e.sent,e.next=7,c.get();case 7:return r=e.sent,e.next=10,r.forEach((function(e){if(!n.comments.some((function(t){return t.id===e.id}))){var t={id:e.data().id,content:e.data().content,user:e.data().user,createdAt:e.data().createdAt,score:e.data().score,replies:e.data().replies,date:e.data().date};n.comments.push(t)}}));case 10:n.loading=!1;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Et=function(){var e=Object(C["a"])(regeneratorRuntime.mark((function e(t,n){var c,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=t.state,e.next=3,M.collection("comments").doc(n);case 3:return r=e.sent,e.next=6,r.delete();case 6:c.comments=c.comments.filter((function(e){return e.id!==n}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Lt=function(){var e=Object(C["a"])(regeneratorRuntime.mark((function e(t,n){var c,r,o,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=t.state,r=n.commentId,o=n.replyId,e.next=4,M.collection("comments").doc(r);case 4:return a=e.sent,i=c.comments.find((function(e){return e.id===r})).replies.find((function(e){return e.id===o})),e.next=8,a.update({replies:w["a"].firestore.FieldValue.arrayRemove(i)}).then((function(){c.comments=c.comments.map((function(e){return e.id===r&&(e.replies=e.replies.filter((function(e){return e.id!==o}))),e}))})).catch((function(e){console.log("Error occured",e)}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Pt=function(){var e=Object(C["a"])(regeneratorRuntime.mark((function e(t,n){var c,r,o,a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=t.state,r=n.id,o=n.score,a=n.type,i=n.replyId,e.next=4,M.collection("comments").doc(r);case 4:if(s=e.sent,"commentCount"!==a){e.next=10;break}return e.next=8,s.update({score:o}).then((function(){c.comments=c.comments.map((function(e){return e.id===r&&(e.score=o),e}))})).catch((function(e){console.log("error occured",e)}));case 8:e.next=13;break;case 10:if("replyCount"!==a){e.next=13;break}return e.next=13,s.update({replies:c.comments.find((function(e){return e.id===r})).replies.map((function(e){return e.id===i&&(e.score=o),e}))}).catch((function(e){console.log("error occured",e)}));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$t=function(){var e=Object(C["a"])(regeneratorRuntime.mark((function e(t,n){var c,r,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=t.state,r=n.id,o=n.content,e.next=4,M.collection("comments").doc(r);case 4:return a=e.sent,console.log(o,r),e.next=8,a.update({content:o}).catch((function(e){console.error("Error updating document: ",e)}));case 8:c.comments=c.comments.map((function(e){return e.id===r?Object(k["a"])(Object(k["a"])({},e),{},{content:o}):e}));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ft=function(){var e=Object(C["a"])(regeneratorRuntime.mark((function e(t,n){var c,r,o,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=t.state,r=n.commentId,o=n.replyId,a=n.content,e.next=4,M.collection("comments").doc(r);case 4:return i=e.sent,e.next=7,i.update({replies:c.comments.find((function(e){return e.id===r})).replies.map((function(e){return e.id===o&&(e.content=a),e}))}).then((function(){c.comments=c.comments.map((function(e){return e.id===r&&(e.replies=e.replies.map((function(e){return e.id===o&&(e.content=a),e}))),e}))})).catch((function(e){console.log("Error occured",e)}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Bt=function(){var e=Object(C["a"])(regeneratorRuntime.mark((function e(t,n){var c,r,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=t.state,r=n.id,o=n.reply,c.btnLoading=!0,e.next=5,M.collection("comments").doc(r);case 5:return a=e.sent,e.next=8,a.update({replies:w["a"].firestore.FieldValue.arrayUnion(o)}).then((function(){c.comments=c.comments.map((function(e){return e.id===r&&e.replies.push(o),e})),c.btnLoading=!1})).catch((function(e){console.log("error occured",e)}));case 8:c.btnLoading=!1;case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Vt=function(){var e=Object(C["a"])(regeneratorRuntime.mark((function e(t){var n,c,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state,n.loading=!0,e.next=4,M.collection("currentUser");case 4:return c=e.sent,e.next=7,c.get();case 7:r=e.sent,n.currentUser=r.docs[0].data(),n.loading=!1;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Nt={SET_COMMENTS:function(e,t){e.comments=t},SET_CURRENT_USER:function(e,t){e.currentUser=t}},zt={comments:[],currentUser:{},postLoaded:null,loading:!1,btnLoading:!1},qt=Object(R["a"])({state:zt,getters:c,actions:r,mutations:Nt,plugins:[]});Object(o["c"])(p).use(qt).use(Ut).mount("#app")},"5ac1":function(e,t,n){},"6a73":function(e,t,n){"use strict";n("cb43")},"77ea":function(e,t,n){e.exports=n.p+"img/icon-plus.2736214f.svg"},"7b82":function(e,t,n){e.exports=n.p+"img/icon-reply.cb6fbfc8.svg"},"7ee0":function(e,t,n){"use strict";n("c2de")},"80c3":function(e,t,n){},"83cb":function(e,t,n){"use strict";n("5ac1")},"86d7":function(e,t,n){},"91ef":function(e,t,n){},a055:function(e,t,n){"use strict";n("06f3")},b398:function(e,t,n){e.exports=n.p+"img/icon-minus.c420fc92.svg"},b9ec:function(e,t,n){"use strict";n("288a")},c2de:function(e,t,n){},cb43:function(e,t,n){},cf23:function(e,t,n){},e8be:function(e,t,n){},ea16:function(e,t,n){"use strict";n("80c3")},eaaf:function(e,t,n){e.exports=n.p+"img/icon-edit.88e96924.svg"},fbde:function(e,t,n){"use strict";n("e8be")}});
//# sourceMappingURL=app.c20a29e5.js.map